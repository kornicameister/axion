---
- case: oneOf
  oas_spec: |
    openapi: 3.0.1
    info:
      title: title
      version: 1.0.0
    servers:
      - url: /
    paths:
      /:
        get:
          operationId: main.oneOf
          parameters:
            - name: oneOf1
              in: query
              required: true
              schema:
                oneOf:
                  - type: string
                  - type: boolean
            - name: oneOf2
              in: query
              required: true
              schema:
                oneOf:
                  - type: string
                  - type: boolean
                  - type: number
                  - type: integer
            - name: oneOf3
              in: query
              required: true
              schema:
                oneOf:
                  - type: integer
            - name: oneOf4
              in: query
              required: false
              schema:
                oneOf:
                  - type: integer
                  - type: number
            - name: oneOf5
              in: query
              required: true
              schema:
                oneOf:
                  - type: integer
                  - type: number
                  - type: string
                nullable: true
            - name: oneOf6
              in: query
              required: true
              schema:
                oneOf:
                  - type: integer
                    default: 666
                  - type: number
                    default: 0.6
                default: 666.6
            - name: oneOf7
              in: query
              required: true
              schema:
                oneOf:
                  - not:
                      type: string
                  - not:
                      type: boolean
                  - not:
                      type: number
                  - type: integer
                nullable: true
          responses:
            default:
              description: unexpected error
  main: |
    import typing as t

    from axion import oas_endpoint
    from axion import response

    @oas_endpoint
    async def oneOf(
      one_of1: t.Union[str, bool],
      one_of2: t.Union[str, bool, int, float],
      one_of3: int,  # oneOf with one member simplied to primitive
      one_of4: t.Optional[t.Union[int, float]],
      one_of5: t.Optional[t.Union[int, float, str]]=None,
      one_of6: t.Union[int, float]=666.6,
      one_of7: t.Optional[int]=None,
    ) -> response.Response:
      return {}
