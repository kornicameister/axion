---
name: Linters
"on":
  push:
  pull_request:
  schedule:
    - cron: 2 18 * * 5
jobs:
  linters:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        python-version:
          - 3.6
          - 3.7
        os:
          - ubuntu-18.04
        jobs:
          - script: tox -v -e mypy
          - script: tox -v -e yapf
          - script: tox -v -e flake8
    steps:
      - uses: actions/checkout@master
      - name: Set up Python ${{ matrix.python-version }}
        uses: actions/setup-python@v1
        with:
          version: ${{ matrix.python-version }}
      - name: Upgrade Python Toolset
        run: |
          python -m pip install --upgrade pip wheel setuptools tox
      - name: Run linter
        run: ${{ matrix.jobs.script }}
        env: ${{ matrix.env }}
